<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø³ÙˆØ±ÙŠ Ø§Ù„Ø±Ø³Ù…ÙŠ | Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù</title>
    <meta name="description" content="Ø£Ø³Ø¹Ø§Ø± ØµØ±Ù Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ© ÙÙŠ Ø³ÙˆØ±ÙŠØ§ØŒ Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ØªØ¶Ø®Ù… ÙˆØ§Ù„Ø±ÙˆØ§ØªØ¨ØŒ ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø©">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ‡¸ğŸ‡¾</text></svg>">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- PWA Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => console.log('ServiceWorker registered'))
                    .catch(err => console.log('ServiceWorker failed:', err));
            });
        }
    </script>
    
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --secondary: #059669;
            --success: #10b981;
            --danger: #dc2626;
            --warning: #f59e0b;
            --light: #f8fafc;
            --dark: #0f172a;
            --card-bg: #ffffff;
            --body-bg: #f1f5f9;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --radius: 12px;
            --transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --primary: #3b82f6;
            --primary-dark: #1d4ed8;
            --secondary: #10b981;
            --light: #1e293b;
            --dark: #f1f5f9;
            --card-bg: #0f172a;
            --body-bg: #0a0f1c;
            --border: #334155;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--body-bg);
            color: var(--dark);
            line-height: 1.6;
            transition: var(--transition);
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 1rem 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.4rem;
            font-weight: 700;
        }

        .header-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-family: inherit;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-success {
            background-color: var(--success);
            color: white;
        }

        .btn-warning {
            background-color: var(--warning);
            color: white;
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        /* Theme Toggle */
        .theme-toggle {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Main Content */
        main {
            padding: 2rem 0;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Cards */
        .card {
            background-color: var(--card-bg);
            border-radius: var(--radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: var(--transition);
        }

        .card:hover {
            box-shadow: var(--shadow-lg);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid var(--border);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Rates */
        .rates-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
        }

        .rate-card {
            background: linear-gradient(135deg, var(--card-bg), color-mix(in srgb, var(--primary) 5%, transparent));
            border-radius: var(--radius);
            padding: 1rem;
            border: 1px solid var(--border);
            transition: var(--transition);
        }

        .rate-card:hover {
            transform: translateY(-3px);
        }

        .currency-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .currency-name {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .currency-rate {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 0.5rem 0;
            color: var(--primary);
        }

        .rate-change {
            font-size: 0.9rem;
            padding: 4px 10px;
            border-radius: 20px;
            display: inline-block;
            font-weight: 500;
        }

        .change-up {
            background-color: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }

        .change-down {
            background-color: rgba(220, 38, 38, 0.2);
            color: var(--danger);
        }

        /* Converter */
        .converter {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 1rem;
            align-items: center;
        }

        @media (max-width: 768px) {
            .converter {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
            }
        }

        .converter-box {
            background-color: color-mix(in srgb, var(--body-bg) 50%, transparent);
            padding: 1.5rem;
            border-radius: var(--radius);
            border: 1px solid var(--border);
        }

        .converter-amount {
            width: 100%;
            padding: 1rem;
            font-size: 1.5rem;
            text-align: center;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            background-color: var(--card-bg);
            color: var(--dark);
            font-weight: 600;
        }

        .converter-amount:focus {
            outline: none;
            border-color: var(--primary);
        }

        .converter-select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            background-color: var(--card-bg);
            color: var(--dark);
            font-weight: 500;
            margin-top: 0.5rem;
            cursor: pointer;
        }

        .swap-btn {
            background-color: var(--warning);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .swap-btn:hover {
            transform: rotate(180deg);
        }

        .converter-result {
            text-align: center;
            font-size: 1.8rem;
            font-weight: 700;
            margin-top: 1rem;
            padding: 1rem;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border-radius: var(--radius);
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Calculators */
        .calculator-section {
            margin-top: 2rem;
        }

        .calculator-tabs {
            display: flex;
            gap: 5px;
            background-color: color-mix(in srgb, var(--body-bg) 50%, transparent);
            padding: 5px;
            border-radius: var(--radius);
            margin-bottom: 1.5rem;
        }

        .calc-tab {
            flex: 1;
            padding: 1rem;
            text-align: center;
            background: none;
            border: none;
            color: var(--dark);
            font-weight: 600;
            border-radius: calc(var(--radius) - 2px);
            cursor: pointer;
            transition: var(--transition);
        }

        .calc-tab.active {
            background-color: var(--primary);
            color: white;
        }

        .calc-form {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: var(--radius);
            border: 1px solid var(--border);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark);
        }

        .form-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid var(--border);
            border-radius: var(--radius);
            background-color: var(--card-bg);
            color: var(--dark);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .calc-result {
            background: linear-gradient(135deg, var(--success), #059669);
            color: white;
            padding: 1.5rem;
            border-radius: var(--radius);
            margin-top: 1.5rem;
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
        }

        /* Chart */
        .chart-container {
            height: 300px;
            position: relative;
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: white;
            padding: 2rem 0;
            margin-top: 3rem;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        .copyright {
            text-align: center;
            color: #94a3b8;
            font-size: 0.9rem;
            margin-top: 1rem;
        }

        /* Notifications */
        .notification-bell {
            position: relative;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--danger);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            .rates-grid {
                grid-template-columns: 1fr;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            .card {
                padding: 1rem;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        /* Loading */
        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            color: var(--dark);
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Utilities */
        .text-center { text-align: center; }
        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }
        .mt-1 { margin-top: 0.5rem; }
        .mt-2 { margin-top: 1rem; }
        .mt-3 { margin-top: 1.5rem; }
        .d-none { display: none; }
        .d-flex { display: flex; }
        .justify-between { justify-content: space-between; }
        .align-center { align-items: center; }
        .gap-1 { gap: 0.5rem; }
        .gap-2 { gap: 1rem; }
        .w-100 { width: 100%; }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-landmark"></i>
                    <span>Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø³ÙˆØ±ÙŠ Ø§Ù„Ø±Ø³Ù…ÙŠ</span>
                </div>
                <div class="header-actions">
                    <button class="btn btn-success" onclick="requestNotificationPermission()">
                        <i class="fas fa-bell"></i>
                        ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
                    </button>
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="btn btn-primary" onclick="refreshAllData()">
                        <i class="fas fa-sync-alt"></i>
                        ØªØ­Ø¯ÙŠØ«
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Exchange Rates -->
        <section class="mb-3">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-coins"></i>
                        Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù Ø§Ù„Ø±Ø³Ù…ÙŠØ©
                    </h2>
                    <div class="d-flex align-center gap-1">
                        <span id="lastUpdate">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</span>
                        <button class="btn btn-outline" onclick="refreshRates()">
                            <i class="fas fa-redo"></i>
                        </button>
                    </div>
                </div>
                
                <div class="loading" id="ratesLoading">
                    <div class="spinner"></div>
                    <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Øª...</p>
                </div>
                
                <div class="rates-grid" id="ratesContainer" style="display: none;">
                    <!-- ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
            </div>
        </section>

        <!-- Converter & Chart -->
        <div class="grid mb-3">
            <!-- Converter -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-exchange-alt"></i>
                        Ù…Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª
                    </h2>
                </div>
                
                <div class="converter">
                    <div class="converter-box">
                        <input type="number" class="converter-amount" id="amount" value="1" min="0" step="0.01">
                        <select class="converter-select" id="fromCurrency">
                            <!-- ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                        </select>
                    </div>
                    
                    <button class="swap-btn" onclick="swapCurrencies()">
                        <i class="fas fa-exchange-alt"></i>
                    </button>
                    
                    <div class="converter-box">
                        <div class="converter-result" id="conversionResult">0.00 Ù„.Ø³</div>
                        <select class="converter-select" id="toCurrency">
                            <!-- ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                        </select>
                    </div>
                </div>
                
                <div class="mt-3">
                    <div class="d-flex justify-between mb-1">
                        <span>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø³Ø¹Ø±:</span>
                        <span id="rateDate">-</span>
                    </div>
                    <div class="d-flex justify-between mb-1">
                        <span>Ø§Ù„Ù…ØµØ¯Ø±:</span>
                        <span id="rateSource">Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ Ø§Ù„Ø³ÙˆØ±ÙŠ</span>
                    </div>
                </div>
            </div>
            
            <!-- Chart -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-chart-line"></i>
                        ØªØ·ÙˆØ± Ø³Ø¹Ø± Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± Ø§Ù„Ø±Ø³Ù…ÙŠ
                    </h2>
                    <select id="chartPeriod" class="converter-select" style="width: auto;" onchange="updateChart()">
                        <option value="7">Ø£Ø³Ø¨ÙˆØ¹</option>
                        <option value="30" selected>Ø´Ù‡Ø±</option>
                        <option value="90">3 Ø£Ø´Ù‡Ø±</option>
                    </select>
                </div>
                
                <div class="chart-container">
                    <canvas id="exchangeChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Calculators -->
        <section class="calculator-section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-calculator"></i>
                        Ø§Ù„Ø­Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©
                    </h2>
                </div>
                
                <div class="calculator-tabs">
                    <button class="calc-tab active" onclick="showCalculator('inflation')">
                        <i class="fas fa-chart-bar"></i>
                        Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ØªØ¶Ø®Ù…
                    </button>
                    <button class="calc-tab" onclick="showCalculator('salary')">
                        <i class="fas fa-money-bill-wave"></i>
                        Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±ÙˆØ§ØªØ¨
                    </button>
                </div>
                
                <!-- Inflation Calculator -->
                <div id="inflationCalc" class="calc-form">
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ (Ù„ÙŠØ±Ø© Ø³ÙˆØ±ÙŠØ©)</label>
                        <input type="number" id="inflationAmount" class="form-input" value="100000" min="1000" step="1000">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø³Ù†Ø© Ø§Ù„Ø¨Ø¯Ø¡</label>
                        <input type="number" id="startYear" class="form-input" value="2010" min="2000" max="2023">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø³Ù†Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ©</label>
                        <input type="number" id="endYear" class="form-input" value="2024" min="2001" max="2024">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ¶Ø®Ù… Ø§Ù„Ø³Ù†ÙˆÙŠ (%)</label>
                        <input type="number" id="inflationRate" class="form-input" value="45" min="1" max="100" step="0.1">
                    </div>
                    
                    <button class="btn btn-primary w-100" onclick="calculateInflation()">
                        <i class="fas fa-calculator"></i>
                        Ø§Ø­Ø³Ø¨ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
                    </button>
                    
                    <div class="calc-result" id="inflationResult" style="display: none;">
                        <!-- Ø§Ù„Ù†ØªÙŠØ¬Ø© ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                    </div>
                </div>
                
                <!-- Salary Calculator -->
                <div id="salaryCalc" class="calc-form" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</label>
                        <input type="number" id="salaryAmount" class="form-input" value="100000" min="10000" step="10000">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ø¹Ù…Ù„Ø©</label>
                        <select id="salaryCurrency" class="form-input">
                            <option value="SYP">Ù„ÙŠØ±Ø© Ø³ÙˆØ±ÙŠØ©</option>
                            <option value="USD">Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø¹Ø¯Ø¯ Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø®Ø¨Ø±Ø©</label>
                        <input type="number" id="experienceYears" class="form-input" value="5" min="0" max="50">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Ø§Ù„Ù…Ø¬Ø§Ù„</label>
                        <select id="salaryField" class="form-input">
                            <option value="it">ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</option>
                            <option value="engineering">Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©</option>
                            <option value="medical">Ø§Ù„Ø·Ø¨ ÙˆØ§Ù„ØªÙ…Ø±ÙŠØ¶</option>
                            <option value="education">Ø§Ù„ØªØ¹Ù„ÙŠÙ…</option>
                            <option value="government">Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠ</option>
                            <option value="private">Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ø®Ø§Øµ</option>
                        </select>
                    </div>
                    
                    <button class="btn btn-primary w-100" onclick="calculateSalary()">
                        <i class="fas fa-calculator"></i>
                        Ø§Ø­Ø³Ø¨ Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹
                    </button>
                    
                    <div class="calc-result" id="salaryResult" style="display: none;">
                        <!-- Ø§Ù„Ù†ØªÙŠØ¬Ø© ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="logo">
                    <i class="fas fa-landmark"></i>
                    <span>Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø³ÙˆØ±ÙŠ Ø§Ù„Ø±Ø³Ù…ÙŠ</span>
                </div>
                
                <div class="copyright">
                    <p>Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù…Ù‚Ø¯Ù…Ø© Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</p>
                    <p>Â© 2024 Ù…Ø±ÙƒØ² Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø³ÙˆØ±ÙŠ. Ù„Ù„Ø£ØºØ±Ø§Ø¶ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù…ÙŠØ© ÙÙ‚Ø·.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // API Keys (Ø§Ø³ØªØ¨Ø¯Ù„Ù‡Ø§ Ø¨Ù…ÙØ§ØªÙŠØ­Ùƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬)
        const EXCHANGE_API_KEY = 'c2a87ea904a943cbb20776ce';  // ExchangeRate-API (Ù…Ø«Ø§Ù„)
        const FIXER_API_KEY = '3d7c7e8a5d1d4a2e8c7e8a5d1';    // Fixer.io (Ù…Ø«Ø§Ù„)
        
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        const app = {
            rates: {},
            lastUpdate: null,
            notificationsEnabled: false,
            darkMode: localStorage.getItem('darkMode') === 'true',
            currencies: [
                {code: 'SYP', name: 'Ø§Ù„Ù„ÙŠØ±Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¾', symbol: 'Ù„.Ø³'},
                {code: 'USD', name: 'Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ', flag: 'ğŸ‡ºğŸ‡¸', symbol: '$'},
                {code: 'EUR', name: 'Ø§Ù„ÙŠÙˆØ±Ùˆ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ', flag: 'ğŸ‡ªğŸ‡º', symbol: 'â‚¬'},
                {code: 'TRY', name: 'Ø§Ù„Ù„ÙŠØ±Ø© Ø§Ù„ØªØ±ÙƒÙŠØ©', flag: 'ğŸ‡¹ğŸ‡·', symbol: 'â‚º'},
                {code: 'SAR', name: 'Ø§Ù„Ø±ÙŠØ§Ù„ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ', flag: 'ğŸ‡¸ğŸ‡¦', symbol: 'Ø±.Ø³'},
                {code: 'JOD', name: 'Ø§Ù„Ø¯ÙŠÙ†Ø§Ø± Ø§Ù„Ø£Ø±Ø¯Ù†ÙŠ', flag: 'ğŸ‡¯ğŸ‡´', symbol: 'Ø¯.Ø£'},
                {code: 'AED', name: 'Ø§Ù„Ø¯Ø±Ù‡Ù… Ø§Ù„Ø¥Ù…Ø§Ø±Ø§ØªÙŠ', flag: 'ğŸ‡¦ğŸ‡ª', symbol: 'Ø¯.Ø¥'}
            ],
            inflationData: {
                2010: 100,
                2011: 120,
                2012: 145,
                2013: 180,
                2014: 220,
                2015: 280,
                2016: 350,
                2017: 450,
                2018: 600,
                2019: 800,
                2020: 1100,
                2021: 1500,
                2022: 2200,
                2023: 3200,
                2024: 4500
            }
        };

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        document.addEventListener('DOMContentLoaded', function() {
            initTheme();
            initCurrencies();
            loadExchangeRates();
            initChart();
            checkNotificationPermission();
            
            // ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚
            setInterval(loadExchangeRates, 300000);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆÙ‚Øª
            setInterval(updateTime, 60000);
            
            // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª Ù„Ù„ÙƒØ±ÙˆØª
            animateCards();
        });

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†
        function initTheme() {
            const themeToggle = document.getElementById('themeToggle');
            if (app.darkMode) {
                document.body.setAttribute('data-theme', 'dark');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }
            
            themeToggle.addEventListener('click', function() {
                app.darkMode = !app.darkMode;
                localStorage.setItem('darkMode', app.darkMode);
                
                if (app.darkMode) {
                    document.body.setAttribute('data-theme', 'dark');
                    this.innerHTML = '<i class="fas fa-sun"></i>';
                } else {
                    document.body.removeAttribute('data-theme');
                    this.innerHTML = '<i class="fas fa-moon"></i>';
                }
            });
        }

        // ØªÙ‡ÙŠØ¦Ø© Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Øª
        function initCurrencies() {
            const fromSelect = document.getElementById('fromCurrency');
            const toSelect = document.getElementById('toCurrency');
            
            app.currencies.forEach(currency => {
                const option1 = document.createElement('option');
                option1.value = currency.code;
                option1.textContent = `${currency.flag} ${currency.name}`;
                
                const option2 = document.createElement('option');
                option2.value = currency.code;
                option2.textContent = `${currency.flag} ${currency.name}`;
                
                fromSelect.appendChild(option1);
                toSelect.appendChild(option2);
            });
            
            // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
            fromSelect.value = 'USD';
            toSelect.value = 'SYP';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„ØªØºÙŠÙŠØ±
            fromSelect.addEventListener('change', convertCurrency);
            toSelect.addEventListener('change', convertCurrency);
            document.getElementById('amount').addEventListener('input', convertCurrency);
        }

        // Ø¬Ù„Ø¨ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù Ù…Ù† API
        async function loadExchangeRates() {
            try {
                // Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
                document.getElementById('ratesLoading').style.display = 'flex';
                document.getElementById('ratesContainer').style.display = 'none';
                
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† API Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…ØµØ§Ø¯Ø±
                let rates = await tryMultipleAPIs();
                
                if (rates) {
                    app.rates = rates;
                    app.lastUpdate = new Date();
                    displayRates();
                    convertCurrency();
                    updateLastUpdate();
                    
                    // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…ÙØ¹Ù„Ø©
                    if (app.notificationsEnabled) {
                        sendNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Øª', `Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ${app.lastUpdate.toLocaleTimeString('ar-SY')}`);
                    }
                } else {
                    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ ÙØ´Ù„ API
                    useFallbackRates();
                }
                
                // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                document.getElementById('ratesLoading').style.display = 'none';
                document.getElementById('ratesContainer').style.display = 'grid';
                
            } catch (error) {
                console.error('Error loading rates:', error);
                useFallbackRates();
                document.getElementById('ratesLoading').style.display = 'none';
                document.getElementById('ratesContainer').style.display = 'grid';
            }
        }

        // Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù…ØµØ§Ø¯Ø± API Ù…Ø®ØªÙ„ÙØ©
        async function tryMultipleAPIs() {
            // API 1: ExchangeRate-API (Ù…Ø¬Ø§Ù†ÙŠØŒ 1500 Ø·Ù„Ø¨/Ø´Ù‡Ø±)
            try {
                const response = await fetch(`https://v6.exchangerate-api.com/v6/${EXCHANGE_API_KEY}/latest/USD`);
                const data = await response.json();
                
                if (data.result === 'success') {
                    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø±Ø³Ù…ÙŠ Ù„Ù„ÙŠØ±Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ© (ÙŠÙ…ÙƒÙ† ØªØ¹Ø¯ÙŠÙ„Ù‡ Ø­Ø³Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø±Ø³Ù…ÙŠ)
                    const syrRate = 13000; // Ø³Ø¹Ø± Ø±Ø³Ù…ÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØŒ Ø§Ø³ØªØ¨Ø¯Ù„Ù‡ Ø¨Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ
                    return {
                        'USD': syrRate,
                        'EUR': syrRate / data.conversion_rates.EUR,
                        'TRY': syrRate / data.conversion_rates.TRY,
                        'SAR': syrRate / data.conversion_rates.SAR,
                        'JOD': syrRate / data.conversion_rates.JOD,
                        'AED': syrRate / data.conversion_rates.AED
                    };
                }
            } catch (error) {
                console.log('API 1 failed, trying next...');
            }
            
            // API 2: Fixer.io (Ù…Ø¬Ø§Ù†ÙŠ Ù…Ø¹ Ù…ÙØªØ§Ø­ ØªØ¬Ø±ÙŠØ¨ÙŠ)
            try {
                const response = await fetch(`http://data.fixer.io/api/latest?access_key=${FIXER_API_KEY}&base=EUR`);
                const data = await response.json();
                
                if (data.success) {
                    const syrRate = 13000; // Ø³Ø¹Ø± Ø±Ø³Ù…ÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠ
                    const usdRate = 1 / data.rates.USD;
                    return {
                        'USD': syrRate,
                        'EUR': syrRate / (data.rates.USD * usdRate),
                        'TRY': syrRate / (data.rates.TRY * usdRate),
                        'SAR': syrRate / (data.rates.SAR * usdRate),
                        'JOD': syrRate / (data.rates.JOD * usdRate),
                        'AED': syrRate / (data.rates.AED * usdRate)
                    };
                }
            } catch (error) {
                console.log('API 2 failed, using fallback...');
            }
            
            return null;
        }

        // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø³Ø¹Ø§Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ ÙØ´Ù„ API
        function useFallbackRates() {
            // Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (ØªØ­Ø¯Ù‘Ø« Ø­Ø³Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø±Ø³Ù…ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ)
            app.rates = {
                'USD': 13000,    // Ø³Ø¹Ø± Ø±Ø³Ù…ÙŠ
                'EUR': 14100,
                'TRY': 410,
                'SAR': 3460,
                'JOD': 18300,
                'AED': 3540
            };
            app.lastUpdate = new Date();
            displayRates();
            convertCurrency();
            updateLastUpdate();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
            document.getElementById('rateDate').textContent = app.lastUpdate.toLocaleDateString('ar-SY');
            document.getElementById('rateSource').textContent = 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© - Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø±Ø³Ù…ÙŠØ©';
        }

        // Ø¹Ø±Ø¶ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Øª
        function displayRates() {
            const container = document.getElementById('ratesContainer');
            container.innerHTML = '';
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù„ÙŠØ±Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹
            const syrCard = document.createElement('div');
            syrCard.className = 'rate-card fade-in';
            syrCard.innerHTML = `
                <div class="currency-header">
                    <div class="currency-name">ğŸ‡¸ğŸ‡¾ Ø§Ù„Ù„ÙŠØ±Ø© Ø§Ù„Ø³ÙˆØ±ÙŠØ©</div>
                    <div class="rate-change change-up" style="background-color: rgba(37, 99, 235, 0.2); color: var(--primary);">
                        Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©
                    </div>
                </div>
                <div class="currency-rate">1 Ù„.Ø³ = 1 Ù„.Ø³</div>
                <div class="text-muted" style="font-size: 0.9rem;">
                    Ø³Ø¹Ø± Ø§Ù„ØµØ±Ù Ø§Ù„Ø±Ø³Ù…ÙŠ
                </div>
            `;
            container.appendChild(syrCard);
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰
            Object.keys(app.rates).forEach(currencyCode => {
                const currency = app.currencies.find(c => c.code === currencyCode);
                if (!currency) return;
                
                const rate = app.rates[currencyCode];
                const change = Math.random() * 2 - 1; // ØªØºÙŠÙŠØ± Ø§ÙØªØ±Ø§Ø¶ÙŠ
                
                const rateCard = document.createElement('div');
                rateCard.className = 'rate-card fade-in';
                rateCard.innerHTML = `
                    <div class="currency-header">
                        <div class="currency-name">${currency.flag} ${currency.name}</div>
                        <div class="rate-change ${change >= 0 ? 'change-up' : 'change-down'}">
                            <i class="fas fa-${change >= 0 ? 'caret-up' : 'caret-down'}"></i>
                            ${Math.abs(change).toFixed(2)}%
                        </div>
                    </div>
                    <div class="currency-rate">${rate.toLocaleString('ar-SY')} Ù„.Ø³</div>
                    <div class="text-muted" style="font-size: 0.9rem;">
                        1 ${currency.code} = ${rate.toLocaleString('ar-SY')} Ù„ÙŠØ±Ø©
                    </div>
                `;
                
                container.appendChild(rateCard);
            });
        }

        // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø®ÙŠØ±
        function updateLastUpdate() {
            if (!app.lastUpdate) return;
            
            const now = new Date();
            const diffMs = now - app.lastUpdate;
            const diffMins = Math.floor(diffMs / 60000);
            
            let timeText;
            if (diffMins < 1) {
                timeText = 'Ø§Ù„Ø¢Ù†';
            } else if (diffMins < 60) {
                timeText = `Ù…Ù†Ø° ${diffMins} Ø¯Ù‚ÙŠÙ‚Ø©`;
            } else {
                timeText = app.lastUpdate.toLocaleTimeString('ar-SY', { hour: '2-digit', minute: '2-digit' });
            }
            
            document.getElementById('lastUpdate').textContent = `Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ${timeText}`;
            document.getElementById('rateDate').textContent = app.lastUpdate.toLocaleDateString('ar-SY');
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆÙ‚Øª Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ
        function updateTime() {
            updateLastUpdate();
        }

        // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª
        function convertCurrency() {
            const amount = parseFloat(document.getElementById('amount').value) || 0;
            const from = document.getElementById('fromCurrency').value;
            const to = document.getElementById('toCurrency').value;
            
            if (!amount || !from || !to) {
                document.getElementById('conversionResult').textContent = '0.00 Ù„.Ø³';
                return;
            }
            
            let result;
            if (from === 'SYP' && to !== 'SYP') {
                // Ù…Ù† Ù„ÙŠØ±Ø© Ø³ÙˆØ±ÙŠØ© Ø¥Ù„Ù‰ Ø¹Ù…Ù„Ø© Ø£Ø¬Ù†Ø¨ÙŠØ©
                result = amount / app.rates[to];
            } else if (from !== 'SYP' && to === 'SYP') {
                // Ù…Ù† Ø¹Ù…Ù„Ø© Ø£Ø¬Ù†Ø¨ÙŠØ© Ø¥Ù„Ù‰ Ù„ÙŠØ±Ø© Ø³ÙˆØ±ÙŠØ©
                result = amount * app.rates[from];
            } else if (from !== 'SYP' && to !== 'SYP') {
                // Ù…Ù† Ø¹Ù…Ù„Ø© Ø£Ø¬Ù†Ø¨ÙŠØ© Ø¥Ù„Ù‰ Ø¹Ù…Ù„Ø© Ø£Ø¬Ù†Ø¨ÙŠØ©
                result = (amount * app.rates[from]) / app.rates[to];
            } else {
                // Ù…Ù† Ù„ÙŠØ±Ø© Ø¥Ù„Ù‰ Ù„ÙŠØ±Ø©
                result = amount;
            }
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
            const toCurrency = app.currencies.find(c => c.code === to);
            const symbol = toCurrency ? toCurrency.symbol : 'Ù„.Ø³';
            
            document.getElementById('conversionResult').textContent = 
                `${result.toLocaleString('ar-SY', { minimumFractionDigits: 2, maximumFractionDigits: 2 })} ${symbol}`;
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª
        function swapCurrencies() {
            const fromSelect = document.getElementById('fromCurrency');
            const toSelect = document.getElementById('toCurrency');
            
            const temp = fromSelect.value;
            fromSelect.value = toSelect.value;
            toSelect.value = temp;
            
            convertCurrency();
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ
        function initChart() {
            const ctx = document.getElementById('exchangeChart').getContext('2d');
            
            // Ø¨ÙŠØ§Ù†Ø§Øª ØªØ§Ø±ÙŠØ®ÙŠØ© Ù„Ù„Ø³Ø¹Ø± Ø§Ù„Ø±Ø³Ù…ÙŠ (Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ù„ØªÙˆØ¶ÙŠØ­)
            const labels = [];
            const data = [];
            const today = new Date();
            
            // ØªÙˆÙ„ÙŠØ¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ
            for (let i = 30; i >= 0; i--) {
                const date = new Date(today);
                date.setDate(date.getDate() - i);
                labels.push(date.toLocaleDateString('ar-SY', { month: 'short', day: 'numeric' }));
                
                // Ù‚ÙŠÙ…Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù…Ø¹ Ø§ØªØ¬Ø§Ù‡ Ø¹Ø§Ù…
                const baseValue = 12500;
                const randomFactor = Math.random() * 200 - 100;
                const trend = i * 5;
                data.push(baseValue + randomFactor + trend);
            }
            
            window.exchangeChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø±Ø³Ù…ÙŠ (Ù„.Ø³)',
                        data: data,
                        borderColor: 'rgba(37, 99, 235, 1)',
                        backgroundColor: 'rgba(37, 99, 235, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            rtl: true,
                            callbacks: {
                                label: function(context) {
                                    return `Ø§Ù„Ø³Ø¹Ø±: ${context.parsed.y.toLocaleString('ar-SY')} Ù„.Ø³`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            }
                        },
                        y: {
                            grid: {
                                color: 'rgba(0, 0, 0, 0.05)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return value.toLocaleString('ar-SY') + ' Ù„.Ø³';
                                }
                            }
                        }
                    }
                }
            });
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ
        function updateChart() {
            const period = parseInt(document.getElementById('chartPeriod').value);
            
            if (window.exchangeChart) {
                window.exchangeChart.destroy();
                initChart();
            }
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø­Ø§Ø³Ø¨Ø§Øª
        function showCalculator(type) {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
            document.querySelectorAll('.calc-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
            document.getElementById('inflationCalc').style.display = type === 'inflation' ? 'block' : 'none';
            document.getElementById('salaryCalc').style.display = type === 'salary' ? 'block' : 'none';
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
            document.getElementById('inflationResult').style.display = 'none';
            document.getElementById('salaryResult').style.display = 'none';
        }

        // Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ØªØ¶Ø®Ù…
        function calculateInflation() {
            const amount = parseFloat(document.getElementById('inflationAmount').value);
            const startYear = parseInt(document.getElementById('startYear').value);
            const endYear = parseInt(document.getElementById('endYear').value);
            const inflationRate = parseFloat(document.getElementById('inflationRate').value) / 100;
            
            if (!amount || !startYear || !endYear || startYear >= endYear) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª ØµØ­ÙŠØ­Ø©');
                return;
            }
            
            let currentValue = amount;
            const years = endYear - startYear;
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ¶Ø®Ù…
            for (let i = 0; i < years; i++) {
                currentValue = currentValue * (1 + inflationRate);
            }
            
            // Ø­Ø³Ø§Ø¨ ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ø´Ø±Ø§Ø¦ÙŠØ©
            const purchasingPower = (amount / currentValue) * 100;
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
            const resultDiv = document.getElementById('inflationResult');
            resultDiv.innerHTML = `
                <div class="mb-1">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§Ø³Ù…ÙŠØ© Ø§Ù„ÙŠÙˆÙ…: ${currentValue.toLocaleString('ar-SY', { maximumFractionDigits: 0 })} Ù„.Ø³</div>
                <div class="mb-1">ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ø´Ø±Ø§Ø¦ÙŠØ©: ${(100 - purchasingPower).toFixed(1)}%</div>
                <div>Ù…Ø§ ÙƒØ§Ù† ÙŠØ´ØªØ±Ù‰ Ø¨${amount.toLocaleString('ar-SY')} Ù„.Ø³ Ø¹Ø§Ù… ${startYear}<br>
                ÙŠØ­ØªØ§Ø¬ Ø§Ù„ÙŠÙˆÙ… ${currentValue.toLocaleString('ar-SY')} Ù„.Ø³</div>
            `;
            resultDiv.style.display = 'block';
        }

        // Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±ÙˆØ§ØªØ¨
        function calculateSalary() {
            const amount = parseFloat(document.getElementById('salaryAmount').value);
            const currency = document.getElementById('salaryCurrency').value;
            const experience = parseInt(document.getElementById('experienceYears').value);
            const field = document.getElementById('salaryField').value;
            
            if (!amount || experience < 0) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª ØµØ­ÙŠØ­Ø©');
                return;
            }
            
            // Ø¹ÙˆØ§Ù…Ù„ Ø§Ù„ØªØ£Ø«ÙŠØ± Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¬Ø§Ù„
            const fieldFactors = {
                'it': 1.5,
                'engineering': 1.3,
                'medical': 1.4,
                'education': 0.9,
                'government': 1.0,
                'private': 1.2
            };
            
            // Ø¹Ø§Ù…Ù„ Ø§Ù„Ø®Ø¨Ø±Ø©
            const experienceFactor = 1 + (experience * 0.05);
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹
            let expectedSalary = amount * fieldFactors[field] * experienceFactor;
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¹Ù…Ù„Ø© Ø¯ÙˆÙ„Ø§Ø±ØŒ ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ù„ÙŠØ±Ø©
            if (currency === 'USD') {
                expectedSalary = expectedSalary * (app.rates.USD || 13000);
            }
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
            const resultDiv = document.getElementById('salaryResult');
            resultDiv.innerHTML = `
                <div class="mb-1">Ø§Ù„Ø±Ø§ØªØ¨ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: ${expectedSalary.toLocaleString('ar-SY', { maximumFractionDigits: 0 })} Ù„.Ø³/Ø´Ù‡Ø±</div>
                <div class="mb-1">Ø³Ù†ÙˆÙŠÙ‹Ø§: ${(expectedSalary * 12).toLocaleString('ar-SY')} Ù„.Ø³</div>
                <div>Ù†Ù…ÙˆØ°Ø¬ ØªÙ‚Ø±ÙŠØ¨ÙŠ Ø­Ø³Ø¨ Ø§Ù„Ø®Ø¨Ø±Ø© ÙˆØ§Ù„Ù…Ø¬Ø§Ù„</div>
            `;
            resultDiv.style.display = 'block';
        }

        // Ø·Ù„Ø¨ Ø¥Ø°Ù† Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function requestNotificationPermission() {
            if (!("Notification" in window)) {
                alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª");
                return;
            }
            
            Notification.requestPermission().then(permission => {
                if (permission === "granted") {
                    app.notificationsEnabled = true;
                    localStorage.setItem('notificationsEnabled', 'true');
                    
                    // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± ØªØ¬Ø±ÙŠØ¨ÙŠ
                    sendNotification('ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª', 'Ø³ÙŠØªÙ… Ø¥Ø¹Ù„Ø§Ù…Ùƒ Ø¨Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«Ø§Øª Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¹Ù…Ù„Ø§Øª');
                    
                    alert('ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!');
                } else {
                    app.notificationsEnabled = false;
                    localStorage.setItem('notificationsEnabled', 'false');
                    alert('Ù„Ù… ÙŠØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª. ÙŠÙ…ÙƒÙ†Ùƒ ØªÙØ¹ÙŠÙ„Ù‡Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØµÙØ­.');
                }
            });
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function checkNotificationPermission() {
            if (!("Notification" in window)) return;
            
            if (Notification.permission === "granted") {
                app.notificationsEnabled = true;
            } else {
                app.notificationsEnabled = localStorage.getItem('notificationsEnabled') === 'true';
            }
        }

        // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø±
        function sendNotification(title, body) {
            if (!app.notificationsEnabled) return;
            
            if (Notification.permission === "granted") {
                new Notification(title, {
                    body: body,
                    icon: 'https://cdn-icons-png.flaticon.com/512/5556/5556468.png',
                    dir: 'rtl'
                });
            }
        }

        // ØªØ¬Ø¯ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function refreshAllData() {
            loadExchangeRates();
            
            // ØªØ£Ø«ÙŠØ± Ù…Ø±Ø¦ÙŠ
            const refreshBtn = document.querySelector('.btn-primary');
            const originalHtml = refreshBtn.innerHTML;
            refreshBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«...';
            refreshBtn.disabled = true;
            
            setTimeout(() => {
                refreshBtn.innerHTML = originalHtml;
                refreshBtn.disabled = false;
            }, 2000);
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙÙ‚Ø·
        function refreshRates() {
            loadExchangeRates();
        }

        // ØªØ£Ø«ÙŠØ±Ø§Øª Ù„Ù„ÙƒØ±ÙˆØª
        function animateCards() {
            const cards = document.querySelectorAll('.rate-card, .card');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            }, { threshold: 0.1 });
            
            cards.forEach(card => observer.observe(card));
        }
    </script>
</body>
</html>
